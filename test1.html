<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	</head>
	<body>
		<input type="text" placeholder="请输入"> 
		<button>保存数据</button>
		<script type="text/javascript">
		// 保存数据到sessionStorage
		//sessionStorage.setItem('key', 'value');
		
		// 从sessionStorage获取数据
		//var data = sessionStorage.getItem('key');
			
		// 清空sessionStorage选定数据
		//var data = sessionStorage.removeItem("key");
			
		// 清空sessionStorage所有数据
		//var data = sessionStorage.clear();
			var val = document.getElementsByTagName("input")[0];  
	    var btn = document.getElementsByTagName("button")[0];  
	    btn.onclick = function(){  
	      var value = val.value;  
	      if(!value) return;  
	      localStorage.setItem("key", val.value);  
	    };
			if(window.addEventListener){
				window.addEventListener("storage",handle_storage,false); 
			}else if(window.attachEvent){ 	
				window.attachEvent("onstorage",handle_storage); 
			}
			function handle_storage(e){ 	
				console.log(e);  
    		document.write("oldValue: "+ e.oldValue + " newValue:" + e.newValue)  
			}
		</script>
	</body>
</html>
